{"version":3,"file":"wu-calendar-item.js","sources":["uni_modules/wu-calendar/components/wu-calendar-item/wu-calendar-item.vue","../../HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovUHJvamVjdC9ZdXdvQXBwL3VuaV9tb2R1bGVzL3d1LWNhbGVuZGFyL2NvbXBvbmVudHMvd3UtY2FsZW5kYXItaXRlbS93dS1jYWxlbmRhci1pdGVtLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view ref=\"$weeksBox\" class=\"wu-calendar-item__weeks-box\" :style=\"[calendarItemStyle, weekItemStyle, {\r\n\t\t\tborderTopLeftRadius: weeks.beforeRange ? '12rpx' : '',\r\n\t\t\tborderBottomLeftRadius: weeks.beforeRange ? '12rpx' : '',\r\n\t\t\tborderTopRightRadius: weeks.afterRange ? '12rpx' : '',\r\n\t\t\tborderBottomRightRadius: weeks.afterRange ? '12rpx' : '',\r\n\t\t}]\" @click=\"choiceDate(weeks)\">\r\n\t\t<view class=\"wu-calendar-item__weeks-box-item\" :style=\"[actMultipleStyle, {width: itemWidth, height: itemHeight + 'px'}]\">\r\n\t\t\t<!-- 自定义打点上方信息 -->\r\n\t\t\t<text v-if=\"weeks.extraInfo && weeks.extraInfo.topInfo\" class=\"wu-calendar-item__weeks-lunar-text\" :style=\"[{color: weeks.extraInfo.topInfoColor || '#e43d33'}, calendarItemStyle, actMultipleStyle]\">{{weeks.extraInfo.topInfo}}</text>\r\n\t\t\t<!-- 徽标 -->\r\n\t\t\t<text v-if=\"selected && weeks.extraInfo && weeks.extraInfo.badge\" class=\"wu-calendar-item__weeks-box-circle\" :style=\"[badgeStyle]\"></text>\r\n\t\t\t<!-- 日期文字 -->\r\n\t\t\t<text class=\"wu-calendar-item__weeks-box-text\" :style=\"[calendarItemStyle, actMultipleStyle]\">{{weeks.date}}</text>\r\n\t\t\t<!-- 今日的文字 -->\r\n\t\t\t<text v-if=\"!lunar && !weeks.extraInfo && weeks.isDay && !weeks.beforeRange && !weeks.afterRange\" class=\"wu-calendar-item__weeks-lunar-text\" :style=\"[calendarItemStyle, actMultipleStyle]\">{{todayText}}</text>\r\n\t\t\t<!-- 农历文字 -->\r\n\t\t\t<text v-if=\"lunar && !weeks.extraInfo && !weeks.beforeRange && !weeks.afterRange\" class=\"wu-calendar-item__weeks-lunar-text\" :style=\"[calendarItemStyle, actMultipleStyle]\">{{dayText}}</text>\r\n\t\t\t<!-- 选中的文字展示 -->\r\n\t\t\t<text v-if=\"!weeks.extraInfo && (weeks.beforeRange || weeks.afterRange)\" class=\"wu-calendar-item__weeks-lunar-text\" :style=\"[calendarItemStyle, actMultipleStyle]\">{{multipleText}}</text>\r\n\t\t\t<!-- 自定义打点下方信息 -->\r\n\t\t\t<text v-if=\"weeks.extraInfo && weeks.extraInfo.info\" class=\"wu-calendar-item__weeks-lunar-text\" :style=\"[{color: weeks.extraInfo.infoColor || '#e43d33'}, calendarItemStyle, actMultipleStyle]\">{{weeks.extraInfo.info}}</text>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport mpMixin from '@/uni_modules/wu-ui-tools/libs/mixin/mpMixin.js';\r\n\timport mixin from '@/uni_modules/wu-ui-tools/libs/mixin/mixin.js';\r\n\timport props from './props.js';\r\n\r\n\timport {\r\n\t\tinitVueI18n\r\n\t} from '@dcloudio/uni-i18n'\r\n\timport i18nMessages from '../i18n/index.js'\r\nimport { nextTick } from 'vue';\r\n\tconst {\r\n\t\tt\r\n\t} = initVueI18n(i18nMessages)\r\n\r\n\texport default {\r\n\t\temits: ['change'],\r\n\t\tmixins: [mpMixin, mixin, props],\r\n\t\tcomputed: {\r\n\t\t\ttodayText() {\r\n\t\t\t\treturn t(\"wu-calender.today\")\r\n\t\t\t},\r\n\t\t\t// 每项日历样式\r\n\t\t\tcalendarItemStyle() {\r\n\t\t\t\tlet style = {};\r\n\t\t\t\tlet color = this.$w.Color.gradient(this.color, this.$w.Color.isLight(this.color) ? '#000' : '#fff', 100)[6]\r\n\t\t\t\t// 有顺序别乱动\r\n\t\t\t\t// 选中的日期范围内的样式\r\n\t\t\t\tif (this.weeks.rangeMultiple) {\r\n\t\t\t\t\tstyle = {\r\n\t\t\t\t\t\tbackgroundColor: this.$w.Color.gradient(this.color, '#fff', 100)[80],\r\n\t\t\t\t\t\tcolor\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\t// 今天的日期样式\r\n\t\t\t\tif (this.weeks.isDay && this.todayDefaultStyle) {\r\n\t\t\t\t\tstyle.color = color;\r\n\t\t\t\t}\r\n\t\t\t\t// 禁用的日期样式\r\n\t\t\t\tif(this.weeks.disable) {\r\n\t\t\t\t\tstyle = {\r\n\t\t\t\t\t\tbackgroundColor: 'rgba(249, 249, 249, 0.3)',\r\n\t\t\t\t\t\tcolor: '#c0c0c0'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn style;\r\n\t\t\t},\r\n\t\t\t// 选中的日期样式\r\n\t\t\tactMultipleStyle() {\r\n\t\t\t\tif ((this.weeks.beforeRange || this.weeks.afterRange || this.weeks.multiples || (this.calendar.fullDate === this.weeks\r\n\t\t\t\t\t\t.fullDate && this.weeks.mode === 'single')) && !this.weeks.disable) {\r\n\t\t\t\t\t// #ifdef APP-NVUE\r\n\t\t\t\t\tif(this.itemWidth == '100%') return {};\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tbackgroundColor: this.color,\r\n\t\t\t\t\t\tcolor: '#fff',\r\n\t\t\t\t\t\tborderRadius: '12rpx'\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifndef APP-NVUE\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tbackgroundColor: this.color,\r\n\t\t\t\t\t\tcolor: '#fff',\r\n\t\t\t\t\t\tborderRadius: '12rpx'\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 徽标样式\r\n\t\t\tbadgeStyle() {\r\n\t\t\t\tlet style = {\r\n\t\t\t\t\tbackgroundColor: this.weeks.disable ? '#c0c0c0' : '#e43d33',\r\n\t\t\t\t\twidth: '16rpx',\r\n\t\t\t\t\theight: '16rpx'\r\n\t\t\t\t};\r\n\t\t\t\tif(this.weeks.extraInfo) {\r\n\t\t\t\t\tif(this.weeks.extraInfo.badgeColor) {\r\n\t\t\t\t\t\t// 如果当前是选中日期的徽标且徽标颜色与主题色一致 为了保证 徽标颜色可以被看见 再选中时将其设置为 #fff\r\n\t\t\t\t\t\tif ((this.weeks.beforeRange || this.weeks.afterRange || this.weeks.multiples || (this.calendar.fullDate === this.weeks\r\n\t\t\t\t\t\t\t\t.fullDate && this.weeks.mode === 'single')) && !this.weeks.disable && this.$w.Color.convertFormat(this.weeks.extraInfo.badgeColor) == this.$w.Color.convertFormat(this.color)) {\r\n\t\t\t\t\t\t\tstyle.backgroundColor = this.actBadgeColor;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tstyle.backgroundColor = this.weeks.extraInfo.badgeColor\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.weeks.extraInfo.badgeSize) {\r\n\t\t\t\t\t\tstyle.width = this.weeks.extraInfo.badgeSize\r\n\t\t\t\t\t\tstyle.height = this.weeks.extraInfo.badgeSize\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(!this.weeks.extraInfo.badgePosition) {\r\n\t\t\t\t\t\tstyle.right = '10rpx';\r\n\t\t\t\t\t\tstyle.top = '10rpx';\r\n\t\t\t\t\t} else if(this.weeks.extraInfo.badgePosition == 'top-left'){\r\n\t\t\t\t\t\tstyle.top = '10rpx';\r\n\t\t\t\t\t\tstyle.left = '10rpx';\r\n\t\t\t\t\t} else if(this.weeks.extraInfo.badgePosition == 'top-center'){\r\n\t\t\t\t\t\tstyle.top = '10rpx';\r\n\t\t\t\t\t\tstyle.left = 'center';\r\n\t\t\t\t\t} else if(this.weeks.extraInfo.badgePosition == 'top-right'){\r\n\t\t\t\t\t\tstyle.top = '10rpx';\r\n\t\t\t\t\t\tstyle.right = '10rpx';\r\n\t\t\t\t\t} else if(this.weeks.extraInfo.badgePosition == 'bottom-left'){\r\n\t\t\t\t\t\tstyle.bottom = '10rpx';\r\n\t\t\t\t\t\tstyle.left = '10rpx';\r\n\t\t\t\t\t} else if(this.weeks.extraInfo.badgePosition == 'bottom-center'){\r\n\t\t\t\t\t\tstyle.bottom = '10rpx';\r\n\t\t\t\t\t\tstyle.left = 'center';\r\n\t\t\t\t\t} else if(this.weeks.extraInfo.badgePosition == 'bottom-right'){\r\n\t\t\t\t\t\tstyle.bottom = '10rpx';\r\n\t\t\t\t\t\tstyle.right = '10rpx';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn style\r\n\t\t\t},\r\n\t\t\t// 日期文字\r\n\t\t\tdayText() {\r\n\t\t\t\tlet text = '';\r\n\t\t\t\tif (this.weeks.isDay) {\r\n\t\t\t\t\ttext = this.todayText\r\n\t\t\t\t} else if(this.weeks.lunar.festival) {\r\n\t\t\t\t\ttext = this.weeks.lunar.festival\r\n\t\t\t\t} else if(this.weeks.lunar.isTerm) {\r\n\t\t\t\t\ttext = this.weeks.lunar.Term\r\n\t\t\t\t} else if (this.weeks.lunar.IDayCn === '初一') {\r\n\t\t\t\t\ttext = this.weeks.lunar.IMonthCn\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttext = this.weeks.lunar.IDayCn\r\n\t\t\t\t}\r\n\t\t\t\treturn text\r\n\t\t\t},\r\n\t\t\t// 选中的文字\r\n\t\t\tmultipleText() {\r\n\t\t\t\tlet text = '';\r\n\t\t\t\tif (this.weeks.afterRange) {\r\n\t\t\t\t\ttext = this.endText\r\n\t\t\t\t} else if (this.weeks.beforeRange) {\r\n\t\t\t\t\ttext = this.startText\r\n\t\t\t\t} \r\n\t\t\t\treturn text;\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\titemWidth: '100%'\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tchoiceDate(weeks) {\r\n\t\t\t\tthis.$emit('change', weeks)\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// #ifdef APP-NVUE\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\tconst dom = uni.requireNativePlugin('dom');\r\n\t\t\t\tdom.getComponentRect(this.$refs.$weeksBox, res=> {\r\n\t\t\t\t\tthis.itemWidth = res.size.width + 'px';\r\n\t\t\t\t})\r\n\t\t\t}, 10)\r\n\t\t\t// #endif\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t@import '@/uni_modules/wu-ui-tools/theme.scss';\r\n\t$wu-font-size-base: 28rpx;\r\n\t$wu-text-color: #333;\r\n\t$wu-font-size-sm: 24rpx;\r\n\t$wu-color-error: #e43d33;\r\n\t$wu-opacity-disabled: 0.3;\r\n\t$wu-text-color-disable: #c0c0c0;\r\n\r\n\t.wu-calendar-item__weeks-box {\r\n\t\tflex: 1;\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tdisplay: flex;\r\n\t\t/* #endif */\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tpadding: 0 0.5px;\r\n\t}\r\n\r\n\t.wu-calendar-item__weeks-box-text {\r\n\t\tfont-size: $wu-font-size-base;\r\n\t\tcolor: $wu-text-color;\r\n\t}\r\n\r\n\t.wu-calendar-item__weeks-lunar-text {\r\n\t\tfont-size: $wu-font-size-sm;\r\n\t\tcolor: $wu-text-color;\r\n\t}\r\n\r\n\t.wu-calendar-item__weeks-box-item {\r\n\t\tflex: 1;\r\n\t\tposition: relative;\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tdisplay: flex;\r\n\t\t/* #endif */\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.wu-calendar-item__weeks-box-circle {\r\n\t\tposition: absolute;\r\n\t\tborder-radius: 16rpx;\r\n\t\tbackground-color: $wu-color-error;\r\n\t}\r\n\r\n\t.wu-calendar-item--disable {\r\n\t\tbackground-color: rgba(249, 249, 249, $wu-opacity-disabled);\r\n\t\tcolor: $wu-text-color-disable;\r\n\t}\r\n\r\n\t.wu-calendar-item--extra {\r\n\t\tcolor: $wu-color-error;\r\n\t\topacity: 0.8;\r\n\t}\r\n\r\n\t.wu-calendar-item--checked {\r\n\t\tcolor: #fff;\r\n\t}\r\n</style>","import Component from 'D:/Project/YuwoApp/uni_modules/wu-calendar/components/wu-calendar-item/wu-calendar-item.vue'\nwx.createComponent(Component)"],"names":["initVueI18n","i18nMessages","mpMixin","mixin","props"],"mappings":"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"}