{"bsonType":"object","required":["user_id","singlePrice","status","starttime"],"permission":{"read":true,"create":true,"update":true,"delete":false},"properties":{"_id":{"description":"ID，系统自动生成"},"user_id":{"title":"用户ID","bsonType":"string","description":"用户id，参考uni-id-users表","foreignKey":"uni-id-users._id"},"reservation_id":{"title":"预约订单id","bsonType":"string","description":"预约订单id，参考reservation-log表。仅在标准订单(type:goods)中存在。","foreignKey":"reservation-log._id"},"total_fee":{"title":"订单总金额","bsonType":"int","description":"订单总金额，单位为分，100等于1元"},"singlePrice":{"title":"订单单价","bsonType":"bool","description":"订单开始时当天的单价"},"overNightPrice":{"title":"订单过夜价","bsonType":"bool","description":"订单开始时当天的通票价格"},"starttime":{"bsonType":"timestamp","description":"这次订单的开始时间,由签到页面生成"},"endtime":{"bsonType":"timestamp","description":"这次订单的开始时间,由结算时生成"},"status":{"bsonType":"number","description":"订单状态。-1:待确认, 0:待支付, 1:已支付, 2:支付失败\/异常, 3:已取消","defaultValue":-1,"enum":[{"text":"待确认","value":-1},{"text":"待支付","value":0},{"text":"已支付","value":1},{"text":"支付失败","value":2},{"text":"已取消","value":3}]},"device_id":{"bsonType":"string","description":"客户端设备ID"},"client_ip":{"title":"客户端IP","bsonType":"string","description":"创建支付的客户端ip","trim":"both"},"description":{"title":"支付描述","bsonType":"string","description":"支付描述","trim":"both"},"type":{"title":"订单类型","bsonType":"string","description":"用于区分不同业务逻辑的订单，如标准商品(goods)、补票(settle)等","defaultValue":"goods","enum":[{"value":"goods","text":"标准商品订单"},{"value":"settle","text":"补票\/结算订单"}]},"create_date":{"title":"创建时间","bsonType":"timestamp","description":"创建时间","forceDefaultValue":{"$env":"now"}},"user_order_success":{"title":"回调状态","bsonType":"bool","description":"用户异步通知逻辑是否全部执行完成，且无异常（建议前端通过此参数是否为true来判断是否支付成功）"},"update_date":{"bsonType":"long","description":"订单最后更新时间戳 (毫秒)"}},"version":"0.0.2"}