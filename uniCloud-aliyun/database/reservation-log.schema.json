{"bsonType":"object","required":["userId","machineId","startTime","endTime","isOvernight","isPlay","status","createTime","updateTime"],"permission":{"read":true,"create":true,"update":true,"delete":false,"count":false},"properties":{"_id":{"bsonType":"objectId","description":"预约ID，唯一索引，系统自动生成"},"userId":{"bsonType":"string","description":"用户ID，关联 uni-id-users 表","foreignKey":"uni-id-users._id","index":true},"machineId":{"bsonType":"string","description":"机台ID，关联机台信息表 machines._id","foreignKey":"machines._id","index":true},"startTime":{"bsonType":"timestamp","description":"预约开始时间"},"endTime":{"bsonType":"timestamp","description":"预约结束时间"},"isOvernight":{"bsonType":"boolean","description":"是否过夜"},"priceId":{"bsonType":"string","description":"价格ID，关联价格表 (prices)，用于查找预约时段对应的价格","foreignKey":"prices._id"},"orderId":{"bsonType":"string","description":"订单ID，关联 uni-id-base-order 表，用于查找支付信息和订单状态","foreignKey":"uni-id-base-order._id"},"status":{"bsonType":"number","description":"预约状态 (0表示'待确认',1表示 '已确认', 2表示 '已完成', 3表示'已过期')","enum":[0,1,2,3]},"isPlay":{"bsonType":"boolean","description":"玩不玩机台"},"notes":{"bsonType":"string","description":"备注 (例如: 用户特殊要求)"},"createTime":{"bsonType":"timestamp","description":"创建时间","forceDefaultValue":{"$env":"now"}},"updateTime":{"bsonType":"timestamp","description":"更新时间","forceDefaultValue":{"$env":"now"}}}}