{"bsonType":"object","required":["orderNo","userId","userName","items","totalPrice","actualAmount","status","paymentMethod"],"permission":{"read":true,"create":true,"update":true,"delete":false},"properties":{"_id":{"description":"ID，系统自动生成"},"orderNo":{"title":"订单编号","bsonType":"string","description":"订单编号，唯一标识"},"userId":{"title":"用户ID","bsonType":"string","description":"下单用户ID","foreignKey":"uni-id-users._id"},"userName":{"title":"用户名称","bsonType":"string","description":"用户名称"},"userPhone":{"title":"用户电话","bsonType":"string","description":"用户电话"},"items":{"title":"订单商品","bsonType":"array","description":"订单商品列表","arrayType":"object","properties":{"productId":{"title":"商品ID","bsonType":"string","description":"商品ID"},"variantId":{"title":"变体ID","bsonType":"string","description":"商品变体ID"},"productName":{"title":"商品名称","bsonType":"string","description":"商品名称"},"productImage":{"title":"商品图片","bsonType":"string","description":"商品图片URL"},"sku":{"title":"SKU编码","bsonType":"string","description":"SKU编码"},"specs":{"title":"规格属性","bsonType":"object","description":"商品规格属性"},"price":{"title":"商品单价","bsonType":"int","description":"商品单价（分）"},"quantity":{"title":"购买数量","bsonType":"int","description":"购买数量"},"totalPrice":{"title":"小计金额","bsonType":"int","description":"小计金额（分）"}}},"totalPrice":{"title":"订单总金额","bsonType":"int","description":"订单总金额（分）"},"actualAmount":{"title":"实际支付金额","bsonType":"int","description":"实际支付金额（分）"},"status":{"title":"订单状态","bsonType":"string","description":"订单状态：pending-待支付，paid-已支付，completed-已完成，refunded-已退款，cancelled-已取消","defaultValue":"pending","enum":[{"value":"pending","text":"待支付"},{"value":"paid","text":"已支付"},{"value":"completed","text":"已完成"},{"value":"refunded","text":"已退款"},{"value":"cancelled","text":"已取消"}]},"paymentMethod":{"title":"支付方式","bsonType":"string","description":"支付方式：offline-线下结算，wechat-微信支付"},"paymentNo":{"title":"支付单号","bsonType":"string","description":"支付平台返回的支付单号"},"paymentTime":{"title":"支付时间","bsonType":"timestamp","description":"支付完成时间"},"remark":{"title":"订单备注","bsonType":"string","description":"订单备注"},"create_time":{"title":"创建时间","bsonType":"timestamp","description":"创建时间","forceDefaultValue":{"$env":"now"}},"update_time":{"title":"更新时间","bsonType":"timestamp","description":"更新时间"},"refundStatus":{"title":"退款状态","bsonType":"string","description":"退款状态：none-无退款，processing-退款中，refunded-已退款","defaultValue":"none","enum":[{"value":"none","text":"无退款"},{"value":"processing","text":"退款中"},{"value":"refunded","text":"已退款"}]},"refundAmount":{"title":"退款金额","bsonType":"int","description":"退款金额（分）","defaultValue":0},"refundTime":{"title":"退款时间","bsonType":"timestamp","description":"退款完成时间"}},"version":"0.0.1"}